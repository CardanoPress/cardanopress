import{c as s,h as i}from"./util-WIVeI6f2.js";const o=async a=>await fetch(s.ajaxUrl,{method:"POST",body:new URLSearchParams({_wpnonce:s._nonce,action:"cardanopress_protocol_parameters",query_network:a})}).then(t=>t.json()),_=async(a,t)=>await fetch(s.ajaxUrl,{method:"POST",body:new URLSearchParams({_wpnonce:s._nonce,action:"cardanopress_account_details",query_network:a,reward_address:t})}).then(e=>e.json()),d=async(a,t,e)=>await fetch(s.ajaxUrl,{method:"POST",body:new URLSearchParams({_wpnonce:s._nonce,action:"cardanopress_wallet_transaction",query_network:a,transaction_action:t,transaction_hash:e})}).then(n=>n.json()),p=Object.freeze(Object.defineProperty({__proto__:null,getAccount:_,getProtocol:o,saveWalletTx:d},Symbol.toStringTag,{value:"Module"})),h=async a=>{let t;try{t=await i()}catch(n){return{success:!1,data:n}}const e=await t.getNetwork();try{let n=null,r=null;if(t.type!=="Typhon"){const c=await o(e);if(!c.success)return c;n=c.data;const l=await t.getRewardAddress(),w=await _(e,l);if(!w.success)return w;r=w.data}return{success:!0,data:{network:e,transaction:await t.delegateTo(a,n,r)}}}catch(n){return{success:!1,data:n}}},u=async a=>{let t;try{t=await i()}catch(n){return{success:!1,data:n}}const e=await t.getNetwork();try{let n=null;if(t.type!=="Typhon"){const r=await o(e);if(!r.success)return r;n=r.data}return{success:!0,data:{network:e,transaction:await t.multiSend(a,n)}}}catch(n){return{success:!1,data:n}}},y=async(a,t)=>{let e;try{e=await i()}catch(r){return{success:!1,data:r}}const n=await e.getNetwork();try{let r=null;if(e.type!=="Typhon"){const c=await o(n);if(!c.success)return c;r=c.data}return{success:!0,data:{network:n,transaction:await e.payTo(a,t,r)}}}catch(r){return{success:!1,data:r}}},g=async a=>{const t=await a.getNetwork(),e=await a.getChangeAddress(),n=await a.getRewardAddress(),r=await a.signData(cardanoPressMessages.dataMessage);return await fetch(s.ajaxUrl,{method:"POST",body:new URLSearchParams({_wpnonce:s._nonce,action:"cardanopress_reconnect_account",data_signature:JSON.stringify(r),stake_address:n,wallet_address:e,query_network:t})}).then(c=>c.json())},m=async a=>{const t=await a.getNetwork(),e=await a.getChangeAddress(),n=await a.getRewardAddress(),r=await a.signData(cardanoPressMessages.dataMessage);return await fetch(s.ajaxUrl,{method:"POST",body:new URLSearchParams({_wpnonce:s._nonce,action:"cardanopress_user_account",data_signature:JSON.stringify(r),stake_address:n,wallet_address:e,query_network:t})}).then(c=>c.json())},S=async(a,t)=>await fetch(s.ajaxUrl,{method:"POST",body:new URLSearchParams({_wpnonce:s._nonce,action:"cardanopress_user_change",query_network:a,wallet_address:t})}).then(e=>e.json()),f=async()=>await fetch(s.ajaxUrl,{method:"POST",body:new URLSearchParams({_wpnonce:s._nonce,action:"cardanopress_sync_assets"})}).then(a=>a.json()),P=async a=>await fetch(s.ajaxUrl,{method:"POST",body:new URLSearchParams({_wpnonce:s._nonce,action:"cardanopress_save_handle",ada_handle:a})}).then(t=>t.json()),j=async()=>await fetch(s.ajaxUrl,{method:"POST",body:new URLSearchParams({_wpnonce:s._nonce,action:"cardanopress_payment_address"})}).then(a=>a.json()),U=async(a,t)=>{const e=await y(t,a);return e.success?await d(e.data.network,"payment",e.data.transaction):e},k=async()=>await fetch(s.ajaxUrl,{method:"POST",body:new URLSearchParams({_wpnonce:s._nonce,action:"cardanopress_delegation_data"})}).then(a=>a.json()),T=async()=>{const a=await k();if(!a.success)return a;const t=a.data,e=await h(t);return e.success?await d(e.data.network,"delegation",e.data.transaction):e},b=async a=>{const t=await u(a);return t.success?await d(t.data.network,"payment",t.data.transaction):t};export{S as a,f as b,P as c,p as d,h as e,T as f,j as g,g as h,U as i,b as j,m as l,u as m,y as p};
