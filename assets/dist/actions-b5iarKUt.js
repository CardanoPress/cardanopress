import{c as n,f as i}from"./util-DXjOY1Aj.js";const d=async a=>await fetch(n.ajaxUrl,{method:"POST",body:new URLSearchParams({_wpnonce:n._nonce,action:"cardanopress_protocol_parameters",query_network:a})}).then(t=>t.json()),_=async(a,t)=>await fetch(n.ajaxUrl,{method:"POST",body:new URLSearchParams({_wpnonce:n._nonce,action:"cardanopress_account_details",query_network:a,reward_address:t})}).then(e=>e.json()),w=async(a,t,e)=>await fetch(n.ajaxUrl,{method:"POST",body:new URLSearchParams({_wpnonce:n._nonce,action:"cardanopress_wallet_transaction",query_network:a,transaction_action:t,transaction_hash:e})}).then(s=>s.json()),y=Object.freeze(Object.defineProperty({__proto__:null,getAccount:_,getProtocol:d,saveWalletTx:w},Symbol.toStringTag,{value:"Module"})),h=async a=>{let t;try{t=await i()}catch(s){return{success:!1,data:s}}const e=await t.getNetwork();try{let s=null,r=null;if(t.type!=="Typhon"){const c=await d(e);if(!c.success)return c;s=c.data;const u=await t.getRewardAddress(),o=await _(e,u);if(!o.success)return o;r=o.data}return{success:!0,data:{network:e,transaction:await t.delegateTo(a,s,r)}}}catch(s){return{success:!1,data:s}}},l=async(a,t)=>{let e;try{e=await i()}catch(r){return{success:!1,data:r}}const s=await e.getNetwork();try{let r=null;if(e.type!=="Typhon"){const c=await d(s);if(!c.success)return c;r=c.data}return{success:!0,data:{network:s,transaction:await e.payTo(a,t,r)}}}catch(r){return{success:!1,data:r}}},p=async a=>{const t=await a.getNetwork(),e=await a.getChangeAddress(),s=await a.getRewardAddress();return await fetch(n.ajaxUrl,{method:"POST",body:new URLSearchParams({_wpnonce:n._nonce,action:"cardanopress_reconnect_account",stake_address:s,wallet_address:e,query_network:t})}).then(r=>r.json())},m=async a=>{const t=await a.getNetwork(),e=await a.getChangeAddress(),s=await a.getRewardAddress();return await fetch(n.ajaxUrl,{method:"POST",body:new URLSearchParams({_wpnonce:n._nonce,action:"cardanopress_user_account",stake_address:s,wallet_address:e,query_network:t})}).then(r=>r.json())},j=async(a,t)=>await fetch(n.ajaxUrl,{method:"POST",body:new URLSearchParams({_wpnonce:n._nonce,action:"cardanopress_user_change",query_network:a,wallet_address:t})}).then(e=>e.json()),P=async()=>await fetch(n.ajaxUrl,{method:"POST",body:new URLSearchParams({_wpnonce:n._nonce,action:"cardanopress_sync_assets"})}).then(a=>a.json()),S=async a=>await fetch(n.ajaxUrl,{method:"POST",body:new URLSearchParams({_wpnonce:n._nonce,action:"cardanopress_save_handle",ada_handle:a})}).then(t=>t.json()),f=async()=>await fetch(n.ajaxUrl,{method:"POST",body:new URLSearchParams({_wpnonce:n._nonce,action:"cardanopress_payment_address"})}).then(a=>a.json()),g=async(a,t)=>{const e=await l(t,a);return e.success?await w(e.data.network,"payment",e.data.transaction):e},U=async()=>await fetch(n.ajaxUrl,{method:"POST",body:new URLSearchParams({_wpnonce:n._nonce,action:"cardanopress_delegation_data"})}).then(a=>a.json()),k=async()=>{const a=await U();if(!a.success)return a;const t=a.data,e=await h(t);return e.success?await w(e.data.network,"delegation",e.data.transaction):e};export{j as a,P as b,S as c,y as d,h as e,k as f,f as g,p as h,g as i,m as l,l as p};
